<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<title>D3 Tree</title>
	<script src="https://d3js.org/d3.v4.min.js"></script>


	<style>
		body {
			font-family: "Century Gothic", CenturyGothic, AppleGothic, sans-serif;
			width: 100vw;
			height: 100vh;
			font-size: 15px;
			color: #42f4b6;

		}

		.twitter-share-button {
			width: 82px !important;
		}

		svg {
			font-family: helvetica, sans-serif;
		}

		path,
		line {}


		.slider {
			-webkit-appearance: none;
			width: 20%;
			height: 25px;
			background: #c9a0f7;
			outline: none;
			opacity: 0.7;
			-webkit-transition: .2s;
			transition: opacity .2s;
		}

		.slider::-webkit-slider-thumb {
			-webkit-appearance: none;
			appearance: none;
			width: 25px;
			height: 25px;
			background: #4CAF50;
			cursor: pointer;
		}

		.slider::-moz-range-thumb {
			width: 25px;
			height: 25px;
			background: #42f4b6;
			cursor: pointer;
		}

		.dropbtn {
			background-color: #666699;
			color: white;
			padding: 16px;
			font-size: 16px;
			border: none;
			cursor: pointer;
		}

		.dropbtn:hover,
		.dropbtn:focus {
			background-color: #2980B9;
		}

		.dropdown {
			position: relative;
			display: inline-block;
		}

		.dropdown-content {
			display: none;
			position: absolute;
			background-color: #f1f1f1;
			min-width: 160px;
			overflow: auto;
			box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);
			z-index: 1;
		}

		.dropdown-content a {
			color: black;
			padding: 12px 16px;
			text-decoration: none;
			display: block;
		}

		.dropdown a:hover {
			background-color: #ddd
		}

		.show {
			display: block;
		}
	</style>
</head>

<body>
	<div id="chart1">


		<h1>Slide to change seasons, click to change cities!</h1>

		<div class="slidecontainer">
			<p><br><br></p>
			<input type="range" min="0" max="365" value="0" class="slider" id="myRange" ,>
		</div>


		<!-- <h2>Dropdown</h2> -->
		<p><br><br></p>

		<div class="dropdown">
			<button id="myButton" onclick="myFunction()" class="dropbtn">Cities</button>
			<select id="myDropdown" class="dropdown-content">
				<option value="San Francisco">San Francisco</option>
				<option value="Denver">Denver</option>
				<option value="Houston">Houston</option>
				<option value="Kansas City">Kansas City</option>
				<option value="Minneapolis">Minneapolis</option>
				<option value="Miami">Miami</option>
				<option value="Toronto">Toronto</option>
				<option value="New York">New York</option>
			</select>
		</div>


		<div id="chart2">
			<svg>
				<defs>
				<linearGradient id="grad1" x1="0%" y1="0%" x2="0%" y2="100%">
				  <stop offset="0%" style="stop-color:#8cc63f;stop-opacity:1" />
				  <stop offset="100%" style="stop-color:#006837;stop-opacity:1" />
				</linearGradient>
			  </defs>
				<defs>
				<linearGradient id="grad2" x1="0%" y1="0%" x2="0%" y2="100%">
				  <stop offset="0%" style="stop-color:#628899;stop-opacity:1" />
				  <stop offset="100%" style="stop-color:#2b7d99;stop-opacity:1" />
				</linearGradient>
			  </defs>
			</svg>
		</div>

		<script>
			var width = 1440;
			var height = 1024;

			var path1 = "M0,0,148,9.54q2,.13,3.94.42L297.11,31.79a78.56,78.56,0,0,1,11.57,2.65L438.47,74.65a90.23,90.23,0,0,1,12.68,5L538.39,122a70.49,70.49,0,0,0,15.87,5.48L620,141.67H0Z";
			var point1 = "0.01 66.4 121 36.4 259 14.4 350.98 0 351 128.4 0 128.4 0.01 66.4";
			var hill1 =
				"M 0 20.78 S 84.44 0.78 91.1 4.48 s 25.18 33.33 31.85 31.85 S 169.61 23 174.8 26.7 s 68.14 68.88 97 66.66 s 32.59 -5.81 45.92 0.06 s 26.66 1.54 47.4 0 s 57.77 -8.2 101.47 -1.54 s 80.73 3 106.28 -2.59 s 56.29 -38.14 75.92 -32.59 s 23.7 -6.67 36.66 -11.11 s 21.36 -12 48.27 -2.34 s 26.17 12.84 31.85 4.69 S 785.6 -1.44 790.29 0 S 800 11.89 800 11.89 l 0 264.87 H 0 Z";
			//			var hillEdge="M 0 20.78 S 84.44 0.78 91.1 4.48 s 25.18 33.33 31.85 31.85 S 169.61 23 174.8 26.7 s 68.14 68.88 97 66.66 s 32.59 -5.81 45.92 0.06 s 26.66 1.54 47.4 0 s 57.77 -8.2 101.47 -1.54 s 80.73 3 106.28 -2.59 s 56.29 -38.14 75.92 -32.59 s 23.7 -6.67 36.66 -11.11 s 21.36 -12 48.27 -2.34";
			var farMount1 =
				"M 0 68.36 s 130.36 -27.52 156 -32 S 186.65 49.6 207.88 58 s 55.8 -27.16 76.54 -38 s 47.4 -30.62 70.12 -12.84 s 71.1 75.05 130.36 38.51 S 573.77 9.11 616.23 26.88 s 39.5 19.88 62.22 9.45 s 25.82 -21.21 63.2 -2.15 S 800 59.47 800 59.47 v 95.2 H 0 Z";
			var farMount2 =
				"M 800 39.16 V 178 H 0 V 83.33 s 70.12 -16.77 93.82 -8.55 s 37.52 1.86 43.45 -2.27 s 49.37 -48.36 66.16 -41.77 s 21.73 19.38 28.64 11.16 s 20.74 -17.75 30.62 -11.16 s 5.92 5.45 9.87 -2.2 S 282.69 -7.43 294.78 4 c 9.44 8.91 13.71 41.91 27.16 17.81 A 111.72 111.72 0 0 1 328 12 c 9.53 -13.55 16.66 -14 26.53 -9.39 c 11.85 5.48 21.72 8.22 35.55 5.48 c 12.89 -2.55 26.63 -14.62 50 4.44 c 1.71 1.4 3.47 3 5.29 4.7 c 26.67 25.57 40.5 45.71 53.33 38.84 S 545.12 21.8 553 23.63 S 577.71 42 583.64 42 s 4.94 13.63 59.25 -5.55 c 0 0 12.84 -8.22 29.63 0 s 33.08 22.83 52.83 15.53 S 780.2 30.79 793.5 36.42 Z";
			var grass =
				"M127.75,5.52l-.26-.26c.09-.71.19-1.39.32-2s.18-.94.28-1.34.17-.75.25-1l.24-.9-.43.81c-.14.26-.29.58-.47.94s-.37.78-.57,1.24c-.41.92-.83,2-1.24,3.2s-.7,2.3-1,3.51l-.16-.58c-.24-.76-.47-1.46-.72-2.08l.22-.26c.12-.14.24-.26.34-.37l.67-.7-.8.54-.42.29-.17.13,0-.11c-.15-.37-.29-.69-.43-1s-.25-.54-.35-.74l-.32-.63.12.68c0,.21.08.48.12.78s.09.64.12,1c0,.18,0,.37.05.57l-.1.08-.56.5A17.21,17.21,0,0,0,121,9.27c-.37-.82-.77-1.61-1.16-2.35-.58-1-1.14-2-1.68-2.78-.26-.4-.5-.75-.73-1.06s-.41-.58-.58-.79l-.52-.67.33.77c.11.24.23.54.36.89s.29.73.44,1.16c.31.85.62,1.87.92,3s.53,2.28.73,3.46c0,.22.07.45.1.67l0,0v0a26.87,26.87,0,0,0-1-2.79A23.9,23.9,0,0,0,117,6.49c-.18-.32-.35-.6-.51-.85s-.29-.46-.41-.63l-.37-.54.18.61c.06.19.12.43.18.7s.14.58.21.91c.15.67.26,1.46.36,2.31a26,26,0,0,1,.12,2.66c0,.38,0,.77-.05,1.14-.38-.55-.77-1.07-1.16-1.55a19.6,19.6,0,0,0-2-2l-.43-.38-.35-.28a22.85,22.85,0,0,0-1.06-2.51l-.25-.5-.24-.44c-.15-.28-.29-.52-.41-.71l-.37-.6.17.66c.06.21.12.47.18.76l.1.47.09.53a22.27,22.27,0,0,1,.27,2.52,24.82,24.82,0,0,1,0,2.89c-.07.8-.18,1.59-.32,2.34a10,10,0,0,0-.49-.94,8.44,8.44,0,0,0-1.13-1.47l-.26-.27-.25-.22a3.76,3.76,0,0,0-.41-.33l-.36-.26.19.37a3.38,3.38,0,0,1,.2.43l.11.27c0,.1.06.2.1.31a7.83,7.83,0,0,1,.33,1.49,9.14,9.14,0,0,1,0,1.74c0,.26-.07.52-.13.77-.29-.57-.61-1.15-.94-1.71-.52-.86-1.06-1.69-1.6-2.43s-1.07-1.41-1.55-2c-.23-.28-.45-.52-.65-.73l-.52-.55L103.11,8l.28.57c.09.18.19.4.3.65s.24.54.37.86c.27.63.54,1.38.81,2.19s.5,1.68.71,2.56c.13.57.24,1.13.33,1.69a12.49,12.49,0,0,1-1.18-1.4,15.53,15.53,0,0,1-1-1.66,18.16,18.16,0,0,1-.88-1.88,30.5,30.5,0,0,1-1.73-7.75c-.12-1.09-.19-2-.25-2.64l-.08-1-.13,1c-.08.62-.19,1.52-.3,2.62-.08.86-.16,1.86-.19,2.94l0,0-.36.35-.37.41a18.58,18.58,0,0,0-1.63,2.07,20.47,20.47,0,0,0-1.21,2.07,26,26,0,0,1-.93-3.4,24.08,24.08,0,0,1-.4-3.5c0-.26,0-.51,0-.75V2.76c0-.19,0-.36,0-.51l.08-1L95,2.2c0,.15-.1.31-.14.49l-.14.59L94.58,4c0,.24-.09.49-.14.75a20.43,20.43,0,0,0-.28,2.11c-.47.77-1.58,2.64-2.57,4.61l-.43.85a13.94,13.94,0,0,0-.51-3.52A12.37,12.37,0,0,0,88.18,4l-.54-.59.36.69a12.66,12.66,0,0,1,.71,1.91,11.88,11.88,0,0,1,.42,2.84,12.2,12.2,0,0,1-.06,1.58,7.72,7.72,0,0,0-1.56-.82l-.35-.13-.32-.09a3.45,3.45,0,0,0-.51-.12l-.44-.07.33.25a3.09,3.09,0,0,1,.36.3l.22.19.22.24a7.3,7.3,0,0,1,.92,1.22,8.5,8.5,0,0,1,.65,1.4v0c-.11.27-.18.55-.3.8a15.73,15.73,0,0,1-.7,1.44c.7-1.44-.5.86-.76,1.27-.05-.22-.1-.44-.16-.67a28.39,28.39,0,0,0-1-3.19,27.94,27.94,0,0,0-1.4-2.95,24.78,24.78,0,0,0-1.49-2.34c-.23-.33-.45-.62-.66-.87s-.37-.47-.53-.64l-.47-.54.29.64c.1.2.2.45.31.74l.18.46.18.52A24.23,24.23,0,0,1,82.76,10c.15.68.29,1.4.39,2.13-.36-.46-.7-.88-1-1.22s-.38-.42-.55-.58l-.44-.43-.39-.36L81,10c.07.14.14.32.22.53s.18.44.26.7c.19.51.37,1.12.54,1.78s.3,1.37.41,2.08c0,.3.07.61.1.91a1,1,0,0,1,0,.15.69.69,0,0,1-1.3.23h0a23.67,23.67,0,0,1-1.12-2.84c-.32-1-.59-2.05-.82-3s-.4-1.92-.54-2.72c-.29-1.6-.45-2.67-.45-2.67s-.13,1-.3,2.64c-.09.8-.16,1.74-.23,2.76,0,.71-.06,1.45-.07,2.21a15,15,0,0,1-.56-1.56,15.17,15.17,0,0,1-.47-2.56,14.33,14.33,0,0,1,0-2.37c0-.18,0-.35,0-.51l.07-.46c0-.29.08-.55.13-.75L77,3.82l-.33.57c-.11.18-.23.41-.36.67l-.21.42-.2.48a15.93,15.93,0,0,0-.78,2.35,17.9,17.9,0,0,0-.44,2.82A18,18,0,0,0,74.76,14a16.34,16.34,0,0,0,.48,2.5l.08.29c-.12-.28-.23-.57-.35-.86a28.62,28.62,0,0,1-1.23-4.18c-.13-.59-.22-1.1-.27-1.45l-.09-.56-.12.53c-.08.34-.18.82-.27,1.41a31.36,31.36,0,0,0-.42,4c-.31-.71-.61-1.44-.91-2.17-.9-2.23-1.72-4.52-2.28-6.27-.28-.87-.51-1.6-.66-2.12l-.24-.81,0,.83c0,.53.06,1.28.12,2.19.1,1.58.28,3.63.54,5.72a17.17,17.17,0,0,0-1-1.58c-.19-.28-.37-.52-.54-.73s-.31-.39-.43-.54l-.39-.45.2.53c.07.17.14.38.21.62s.16.51.24.81a18.44,18.44,0,0,1,.44,2.06c0,.2.06.41.08.61-.11-.46-.24-.92-.38-1.37a20.69,20.69,0,0,0-1.1-2.67,18.08,18.08,0,0,0-1.24-2.09L65,7.9l-.27-.36c-.17-.22-.32-.41-.45-.56l-.41-.47.22.56c.07.17.15.39.23.65l.13.4.13.45A17.51,17.51,0,0,1,65,10.73a19.55,19.55,0,0,1,.18,2.39L65,12.84A41.45,41.45,0,0,0,62.37,9.3c-.38-.46-.7-.83-.93-1.08l-.36-.4s.26.7.59,1.76.72,2.49,1,3.94A10.88,10.88,0,0,1,63,15.66a.74.74,0,0,1-1.39.34h0q-.21-.43-.43-.9c-.39-.86-.75-1.81-1.08-2.79s-.59-2-.8-3-.36-1.89-.44-2.69c-.05-.4-.08-.77-.11-1.1s0-.62-.06-.86l0-.75-.17.72c-.06.23-.12.51-.18.83s-.14.68-.2,1.08c-.1.56-.18,1.19-.25,1.87l-.21.24c-.16.17-.33.37-.51.6a19.24,19.24,0,0,0-1.18,1.59c-.3.45-.59.94-.86,1.44-.23-.55-.47-1.11-.7-1.67-.38-.95-.75-1.9-1.09-2.82V7.76c.25-.92.48-1.68.63-2.21l.25-.83-.43.74c-.21.36-.48.83-.81,1.41-.32-.9-.61-1.74-.85-2.49s-.51-1.6-.66-2.12l-.24-.81,0,.83c0,.53.06,1.28.12,2.19.08,1.29.22,2.9.41,4.59l-.65,1.27c-.45.94-.91,2-1.32,3l-.55-.68A27.43,27.43,0,0,0,47,10.34l-.16-.14-.23-.35A19.87,19.87,0,0,1,46,7.49c-.07-.34-.13-.66-.17-.94s-.08-.53-.1-.74l-.07-.65-.14.62c0,.2-.09.44-.14.72s-.1.59-.14.94-.1.86-.13,1.34c-.39-.3-.76-.55-1.09-.76s-.49-.32-.69-.43l-.61-.36.46.51c.15.16.32.36.51.59s.41.49.64.79.48.64.73,1a23.71,23.71,0,0,0,.13,2.43,23.65,23.65,0,0,0,.49,2.73c.16.63.33,1.22.51,1.76H46l-.1-.49a22.07,22.07,0,0,0-.78-2.72A21.54,21.54,0,0,0,44,11.32a19,19,0,0,0-1.21-2c-.19-.28-.37-.52-.54-.73s-.31-.4-.44-.54c0-.21.1-.41.15-.59s.15-.58.22-.79L42.41,6,42,6.6c-.13.19-.27.42-.44.69s-.35.57-.54.91c-.39.67-.79,1.48-1.19,2.37-.29.66-.57,1.37-.83,2.09-.71-1.06-1.46-2.07-2.11-2.9.14-.5.3-1,.47-1.46a22.36,22.36,0,0,1,1.19-2.66l.29-.55.29-.49c.18-.31.34-.58.49-.79l.45-.68-.6.53c-.2.17-.42.38-.67.63l-.41.4L38,5.14a23.93,23.93,0,0,0-1.9,2.33l-.49.72L35.45,8l-.36-.4s.12.33.31.88c-.39.61-.77,1.26-1.11,1.92-.16.32-.31.63-.46,1-.22-.75-.41-1.5-.57-2.23-.2-1-.36-1.89-.44-2.69-.05-.4-.08-.77-.11-1.1s0-.62-.06-.86l0-.75-.17.72c-.06.23-.12.51-.18.83s-.14.68-.2,1.08c-.14.8-.25,1.74-.34,2.75,0,.43-.05.88-.07,1.34-.43-.61-.87-1.18-1.31-1.71l-.43-.51-.43-.47c-.14-.15-.28-.29-.41-.43s-.27-.28-.38-.37a2.35,2.35,0,0,0-.64-.42.82.82,0,0,0-.39,0,.7.7,0,0,0-.23.07l-.07,0h.06a.46.46,0,0,1,.15.06l.08.07.08.1a3.51,3.51,0,0,1,.31.51l.21.44c.08.16.16.33.24.5l.24.53.23.57a24.13,24.13,0,0,1,.82,2.45,18.31,18.31,0,0,1,.7,3.88c-1.11-1.48-1.89-3.37-3.22-4.84a16.25,16.25,0,0,1,1.11,3.89c.12.8-.16,2-1.13,2.16-1.4.24-1-1.48-1-2.49a22.77,22.77,0,0,1,.23-2.54A21.63,21.63,0,0,1,27,9.69c.08-.33.17-.63.26-.9s.16-.5.23-.69l.22-.6L27.3,8c-.13.15-.27.34-.43.57s-.35.47-.53.76c-.39.56-.79,1.24-1.21,2A25.91,25.91,0,0,0,24,13.73l-.18.49c-.13-.54-.24-1.09-.34-1.66a26.67,26.67,0,0,1-.31-3,25.1,25.1,0,0,1,.05-2.74c0-.41.06-.78.11-1.11s.07-.62.12-.86L23.57,4l-.32.68c-.1.21-.22.48-.34.79s-.27.65-.41,1a26.79,26.79,0,0,0-.83,2.67,29.65,29.65,0,0,0-.6,3.16,29.8,29.8,0,0,0-.22,3.23c0,.48,0,.94,0,1.38-.15-.65-.29-1.37-.42-2.14-.16-1-.29-2.07-.37-3.17S20,9.49,20,8.44s.08-2,.17-2.88c0-.42.08-.81.13-1.16s.08-.65.13-.89l.13-.78-.32.71c-.1.22-.22.5-.35.82s-.28.68-.43,1.08c-.31.79-.62,1.74-.94,2.76s-.58,2.13-.81,3.25-.41,2.25-.53,3.32c0,.35-.07.69-.1,1-.08-.3-.16-.61-.25-.92l-.07-.23c0-.57-.07-1.15-.09-1.73,0-1,0-2,.06-3S16.85,8,17,7.21c.05-.39.11-.74.16-1.05s.1-.59.15-.81l.14-.71-.33.63c-.11.2-.23.44-.37.73s-.3.6-.46,1c-.33.7-.67,1.54-1,2.45-.11.28-.21.58-.31.87-.32-.59-.66-1.15-1-1.67a21.44,21.44,0,0,0-1.74-2.26l-.39-.44-.37-.38-.26-.26c.09-.71.19-1.39.31-2s.18-.94.28-1.34.17-.75.25-1l.24-.9-.43.81c-.14.26-.29.58-.47.94S11,2.54,10.77,3c-.41.92-.83,2-1.24,3.2s-.7,2.3-1,3.51l-.16-.58c-.3-1-.6-1.84-.91-2.57-.15-.37-.29-.69-.43-1S6.79,5,6.68,4.84L6.36,4.2l.12.68c0,.21.08.48.12.78s.09.64.12,1c.08.74.12,1.62.13,2.55s0,1.93-.15,2.91c-.07.62-.16,1.23-.26,1.83h0c-.36-1.19-.81-2.43-1.31-3.63S4.07,8,3.5,6.92s-1.14-2-1.68-2.78c-.26-.4-.5-.75-.73-1.06S.69,2.51.52,2.29L0,1.62l.33.77c.11.24.23.54.36.89S1,4,1.13,4.43c.31.85.62,1.87.92,3s.53,2.28.73,3.46.32,2.38.39,3.5,0,14.09,0,14.09H130M13.28,16.13c-.6,1-1.06,1-1.39.62a5.87,5.87,0,0,1-.8-2.61c-.13-1.17-.21-2.44-.23-3.73s0-2.58.16-3.8c0-.26.06-.51.08-.76l.19.35.24.5a20.81,20.81,0,0,1,1,2.45,23.3,23.3,0,0,1,.72,2.92C13.44,13.21,14,15,13.28,16.13ZM36.22,17l-.11-.2a21.51,21.51,0,0,1,0-2.31,22.36,22.36,0,0,1,.3-2.58c.11.45.21.91.31,1.38.27,1.33.47,2.66.59,3.72ZM42.08,17c-.22.18-.5.06-.86-.63-.07-.75-.11-1.55-.11-2.36a27.67,27.67,0,0,1,.17-2.91c.12-.93.26-1.82.44-2.57l0-.07.11.34c.08.24.16.51.24.81a18.45,18.45,0,0,1,.44,2.06,20.58,20.58,0,0,1,.2,2.39C42.73,14.54,42.58,16.58,42.08,17ZM52.21,17h0a3.23,3.23,0,0,1-.4-1.82q0-.34.06-.67c.08-.69.18-1.37.31-2,.24,1.64.52,3.22.78,4.55Zm5,0,0,0q-.09-.54-.15-1.17a17.1,17.1,0,0,1,0-2.08,18,18,0,0,1,.25-2.15,17.36,17.36,0,0,1,.46-1.89c-.05.9-.08,1.84-.06,2.79s.12,2.17.24,3.19l.07.5A.74.74,0,0,1,57.22,17Zm37.7-.93a1.19,1.19,0,0,1-1.16.93c0-.22,0-.46,0-.72,0-1.08,0-2.52.07-4,0-1.08.14-2.18.23-3.12a29.13,29.13,0,0,0,.22,3.29,29.14,29.14,0,0,0,.7,3.43Zm3.77-.69c-.05.19-.1.38-.15.57l-.17-.28a17.15,17.15,0,0,1,.09-2.58A18,18,0,0,1,99,10.4,17,17,0,0,1,99.95,8l.15-.32a26.42,26.42,0,0,0,.28,4A16.12,16.12,0,0,0,98.7,15.43ZM101.3,17a7.67,7.67,0,0,1-.24-1.11,10.32,10.32,0,0,1-.09-1.47,19.39,19.39,0,0,0,.79,2.15L102,17Zm12.81-1.49q0-.3,0-.6a26.35,26.35,0,0,0-.43-3.27c-.1-.49-.22-1-.35-1.44.3.52.59,1.11.88,1.73a21.32,21.32,0,0,1,1,2.78,21.57,21.57,0,0,1,.46,2.29A1.53,1.53,0,0,1,114.12,15.56ZM123,12.14c-.07.62-.16,1.23-.26,1.83h0c-.33-1.09-.74-2.22-1.19-3.33A18,18,0,0,1,123,8.37l.18-.25c0,.36,0,.73,0,1.12C123.18,10.17,123.13,11.16,123,12.14Z";
			var cloud = "M279.44,158.39a26.29,26.29,0,1,0-10.1-50.58,39.56,39.56,0,0,0-45.22-28c0-.22,0-.44,0-.66A79.2,79.2,0,0,0,70.77,51.37a54.71,54.71,0,1,0-16.06,107Z";
			var t0 = Date.now();
			var branches = [];
			var seed1 = {
				i: 0,
				x: 1050,
				y: 880,
				a: 0,
				l: 65,
				d: 0
			};
			var da = 0.5; // Angle delta
			var dl = 0.8; // Length delta (factor)
			var ar = 0.7; // Randomness
			var maxDepth = 10;
			var city = 'New York';
			var date = 0;
			var dateSlider = document.getElementById("myRange");
			var cityDropdown = document.getElementById("myDropdown");
			var cityButton = document.getElementById("myButton");


			var leafColors = ["D46A6A", "D46A6A", "55AA55", "88CC88", "116611", "004400", "C3CF68", "FFCF31", "FFC131", "936000", "A2834A", "ECD3A5", "FFEFD2", "FFEFD2"]
			var treeLocations = [
				[110, 575],
				[180, 565],
				[350, 610],
				[400, 655],
				[480, 720],
				[550, 740],
				[700, 745],
				[720, 740],
				[1300, 670],
				[1350, 660]
			];
			var grassLocations = [
				[0, 733.46, 0],
				[128, 733.46, 5],
				[252, 743.46, 7],
				[376, 760.46, 7],
				[500, 780.46, 7],
				[625, 800.46, 15],
				[745, 835.46, 20],
				[865, 875.46, 30]
			];
			var farTreeGroup;

			d3.queue()
				.defer(d3.csv, "./data-by-date/humidity.csv")
				.defer(d3.csv, "./data-by-date/wind_speed.csv")
				.defer(d3.csv, "./data-by-date/temperature.csv")
				.await(callback)



			/* call back function */
			function callback(error, humidity, wind, temp) {
				console.log(humidity)
				var svg = d3.select("svg")
					.attr("width", width)
					.attr("height", height)
					.style("background", "#ace0f9");

				drawBackground();

				dateSlider.oninput = function() {
					//console.log(seasonSlider.value)
					date = dateSlider.value;
					//updateFarTree(city, humidity);
					updateCloseTree(city, date, temp);
					//updateGrass();
					//updateCloud();
				}
				cityDropdown.onchange = function() {
					console.log(cityDropdown.value)
					city = cityDropdown.value;
					updateFarTree(city, humidity);
					//updateCloseTree(city, date, temp);
					updateGrass();
					//updateCloud();
				}




			}

			function drawBackground() {

				// draw mountains
				d3.select("svg")
					.append("path")
					.attr("d", farMount2)
					.attr("transform", "translate(0,403.21) scale(2)")
					.style("fill", "url(#grad2)");
				d3.select("svg")
					.append("path")
					.attr("d", farMount1)
					.attr("transform", "translate(0,493.21) scale(2)")
					.style("fill", "#659999");

				//draw far trees
				for (var i = 0; i < treeLocations.length; i++) {
					farTree1(treeLocations[i], i);
				}

				d3.select("svg")
					.append("path")
					.attr("d", hill1)
					.attr("transform", "translate(0,553.21) scale(2)")
					.style("fill", "url(#grad1)");

				// draw the close big tree
				/* Copyright 2013 Peter Cook (@prcweb); Licensed MIT */
				branches = [];
				branch(seed1);
				d3.select("svg")
					.append("g")
					.attr("id", "tree1")
					.selectAll('line')
					.data(branches)
					.enter()
					.append('line')
					.attr('x1', function(d) {
						return d.x;
					})
					.attr('y1', function(d) {
						return d.y;
					})
					.attr('x2', function(d) {
						return endPt(d).x;
					})
					.attr('y2', function(d) {
						return endPt(d).y;
					})
					.style("stroke", "#8B572A")
					.style('stroke-width', function(d) {
						return parseInt(maxDepth + 1 - d.d) + 'px';
					})
					.attr('id', function(d) {
						return 'id-' + d.i;
					})

				// draw grasses
				for (var i = 0; i < grassLocations.length; i++) {
					grass1(grassLocations[i]);
				}
				d3.select("svg")
					.append("polygon")
					.attr("points", point1)
					.attr("transform", "translate(900,780) scale(2)")
					.style("fill", "#7ebe00");
				d3.select("svg")
					.append("path")
					.attr("d", path1)
					.attr("transform", "translate(0,753.46) scale(2)")
					.style("fill", "#7ed321");
			}

			function updateCloseTree(city, date, temp) {
				// change the leaf size and color according to the temperature level for each city
				console.log(city);
				var currentCircles = d3.select("#tree1").selectAll("circle").data(branches)
				var addedCircles = currentCircles
					.enter()
					.append("circle");
				var mergedCircles = addedCircles.merge(currentCircles);
				mergedCircles
					.attr("r", temp[date][city] / 60)
					.attr("cx", function(d) {
						return endPt(d).x;
					})
					.attr("cy", function(d) {
						return endPt(d).y;
					})
					//.style("fill", leafColors[Math.ceil(date / 30)])
					.style("fill", function(d) {
						if (Math.round(Math.random())) {
							return leafColors[Math.ceil(date / 30)];
						} else {
							return "green";
						}
					})
					.style("opacity", temp[date][city] / 303);


			}

			function updateFarTree(city, humidity) {
				// change number of trees according to different humidity level in different cities
				var num = Math.ceil(humidity[0][city] / 10);
				console.log(num)

				for (var i = 0; i < 10; i++) {
					d3.select("#farTree" + i)
						.selectAll('path')
						.attr("opacity", 1)
				}

				for (var i = 0; i < 10 - num; i++) {
					removeNum = Math.floor(Math.random() * 10);
					d3.select("#farTree" + removeNum)
						.selectAll('path')
						.attr("opacity", 0)
				}



				// var newLocations = treeLocations.splice(Math.floor(Math.random() * treeLocations.length), 2);
				// for (var i = 0; i < newLocations.length; i++) {
				// 	farTree1(newLocations[i]);
				// }

			}

			function updateGrass() {


			}

			function updateCloud() {
				var initialCloudList = [];
				for (var c = 0; c < 2; c++) {
					var initialCloudX = Math.random() * (600 - 200) + 200;
					var initialCloudy = Math.random() * (200 - 100) + 100;
					cloud1([initialCloudX, initialCloudy, c]);
					initialCloudList.push([initialCloudX, initialCloudy]);
				}

				var j = initialCloudList[0][0];
				var k = initialCloudList[1][0];

				function loop() {
					d3.select("#c0")
						.attr("transform", function() {
							if (d3.select(this).node().getBoundingClientRect().x < width) {
								j = j + 1;
								//console.log(initialCloudList[f]);
								return "translate(" + j + "," + initialCloudList[0][1] + ")"
							} else {
								j = 0;
								d3.select(this).node().getBoundingClientRect().x = initialCloudList[0][0];
							}
						});
					d3.select("#c1")
						.attr("transform", function() {
							if (d3.select(this).node().getBoundingClientRect().x < width) {
								k = k + 1;
								//console.log(initialCloudList[f]);
								return "translate(" + k + "," + initialCloudList[1][1] + ")"
							} else {
								k = 0;
								d3.select(this).node().getBoundingClientRect().x = initialCloudList[1][0];
							}
						});
				}
				d3.timer(loop);
			}

			// Tree creation functions
			function branch(b) {
				var end = endPt(b),
					daR, newB;

				branches.push(b);

				if (b.d === maxDepth)
					return;

				// Left branch
				daR = ar * Math.random() - ar * 0.5;
				newB = {
					i: branches.length,
					x: end.x,
					y: end.y,
					a: b.a - da + daR,
					l: b.l * dl,
					d: b.d + 1,
					parent: b.i
				};
				branch(newB);

				// Right branch
				daR = ar * Math.random() - ar * 0.5;
				newB = {
					i: branches.length,
					x: end.x,
					y: end.y,
					a: b.a + da + daR,
					l: b.l * dl,
					d: b.d + 1,
					parent: b.i
				};
				branch(newB);
			}

			function endPt(b) {
				// Return endpoint of branch
				var x = b.x + b.l * Math.sin(b.a);
				var y = b.y - b.l * Math.cos(b.a);
				return {
					x: x,
					y: y
				};
			}

			function farTree1(root, id) {
				farTreeGroup = d3.select("svg")
					.append("g")
					.attr("class", "fartree")
					.attr("id", "farTree" + id);
				farTreeGroup
					.append("path")
					.attr("d", "M " + root[0] + " " + root[1] + " L " + root[0] + " " + (root[1] - 10))
					.style("stroke", "brown")
					.style("stroke-width", 5);
				farTreeGroup
					.append("path")
					.attr("d", "M " + root[0] + " " + (root[1] - 50) + " L " + (root[0] + 10) + " " + (root[1] - 10) + " " + (root[0] - 10) + " " + (root[1] - 10) + " Z")
					.style("fill", "green");
			}

			function grass1(root) {
				d3.select("svg")
					.append("path")
					.attr("class", "grass")
					.attr("d", grass)
					.attr("transform", "rotate(" + root[2] + "," + root[0] + "," + root[1] + ") translate(" + root[0] + "," + root[1] + ")")
					.style("fill", "#93cc2e");
			}

			function cloud1(root) {
				d3.select("svg")
					.append("path")
					.attr("class", "cloud")
					.attr("id", "c" + root[2])
					.attr("d", cloud)
					.attr("transform", "translate(" + root[0] + "," + root[1] + ")")
					.style("fill", "#fafafa");
			}

			function myFunction() {
				document.getElementById("myDropdown").classList.toggle("show");
			}

			window.onclick = function(event) {
				if (!event.target.matches('.dropbtn') && !event.target.matches('.dropdown-content')) {
					var dropdowns = document.getElementsByClassName("dropdown-content");
					//console.log(dropdowns)
					var i;
					for (i = 0; i < dropdowns.length; i++) {
						var openDropdown = dropdowns[i];
						if (openDropdown.classList.contains('show')) {
							openDropdown.classList.remove('show');
						}
					}
				}
			}
		</script>
</body>

</html>